<div class = "budget-settings" style = "margin-left: 70px; min-width: 1320px;">
  <section class = "budget-settings-title"  >
    <h2>Your Budget</h2>
  </section>
  <section class = "budget-settings-description" >
    
    <button class="calendar-button" onclick="showDiv('budget-settings');">
          <i class="fas fa-cog"></i>
    </button>
  </section>
</div>

<div class = "transactions" id="budget-settings" style = "display: none; margin-bottom: 25px; margin-top: -5px; padding: 10px;">
  
    <div class="week-title" style = "margin-bottom: 15px;">     
      <h3 id="weekly-name">Budget Settings</h3>
      
    </div>
    <div 
    style = "display: grid; 
            grid-template-columns: repeat 1fr; 
            gap: 15px; padding: 20px;
            background-color: #f5f5f5; 
            border-radius: 15px;
            
            ">
      <section class="week-budget-edit">
            <div class="week-budget-edit-title" style = "margin-top: -20px;">
              <h3>Change Currency:</h3>
            </div>
            <select id="new-currency" class="budget-edit-input" style = "background-color: #e6e6e6; width: 250px;">
              <option value="EUR">€ Euro</option>
              <option value="USD">$ US Dollar</option>
              <option value="GBP">£ UK Pound</option>
            </select>
            
      </section>
      
      <section style = "margin-top: -15px;">
        <div class="button-group" id="new-transaction-button">
              <button type="reset" onclick="hideDiv('budget-settings');" class="cancel-button">
                <i class="fas fas fa-times"></i> <!-- Font Awesome x icon -->
              </button>
              <button type="submit" onclick="hideDiv('budget-settings');"  class="confirm-button">
                <i class="fas fa-check"></i> <!-- Font Awesome check icon -->
              </button>
        </div>
      </section>
    </div>
</div>

<div class = "transactions" id="budget-settings" style = " margin-bottom: 25px; margin-top: -5px; padding: 10px;">
  
    <div class="week-title" style = "margin-bottom: 15px;">     
      <h3 id="weekly-name">Your Incomes And Expenses</h3>
      
    </div>
    <div 
    style = "display: grid;
    grid-template-columns: repeat(3, 1fr); /* 3 equal columns */
            gap: 15px; padding: 20px;
            background-color: #f5f5f5; 
            border-radius: 15px;
            
            ">

            
      <section class="week-budget-edit"  style = "display: flex;
    justify-content: center;
    align-items: center;">
            <div class="week-budget-edit-title" style = "margin-top: -20px; ">
              <h3  style = "margin-top: 35px; margin-right: 10px;">Overall Expenses:</h3>
            </div>
            <div class="budget-edit-input" style="background-color: #fae9e9; width: 230px; height: 50px;">
              <div class="dashboard-number">
                <p id="overall-expenses" style="margin-left: 10px; margin-top: 18px;">€0</p>
              </div>
            </div>
            
      </section>
      <section class="week-budget-edit" style = "display: flex;
    justify-content: center;
    align-items: center;">
            <div class="week-budget-edit-title" style = "margin-top: -20px;">
              <h3 style = "margin-top: 35px; margin-right: 10px;">Overall Incomes:</h3>
            </div>
            <div class="budget-edit-input" style="background-color: #e6f8e9; width: 230px; height: 50px; margin-right: -18px;">
              <div class="dashboard-number">
                <p id="overall-incomes" style="margin-left: 10px; margin-top: 18px;">€0</p>
              </div>
            </div>
            
      </section>
      <section class="movements" style = "display: flex;
    justify-content: center;
    align-items: center;">
            <div class="movements-total" style = "margin-top: -20px;">
              <h3 style = "margin-top: 35px; margin-right: 10px;">Total:</h3>
            </div>
            <div class="budget-edit-input" style="background-color: #e6e6e6; width: 230px; height: 50px;">
              <div class="dashboard-number">
                <p id="overall-total" style="margin-left: 10px; margin-top: 18px;">€0</p>
              </div>
            </div>
            
      </section>
      
    </div>
</div>

<div class="stats-wrapper" style = "margin-left: 310px;">
  <section class="stats-week">
    
    <div  class="week-title">     
      <h3 id="weekly-name">Weekly Statistics</h3>
      
    </div>

    <!-- IMPOSTAZIONI DELLA DATA SETTIMANALE -->
    <div class="stat-date">
      
      <button id = "week-settings" onclick = "hideDiv('week-date');hideDiv('week-settings'); showDiv('week-date-input'); " class="calendar-button" >
          <i class="fa fa-calendar"></i>
      </button>
      <div id = "week-date-input" style = "display:none; " >
        <div style = 
        "display: flex;
        align-items: center; 
        justify-content: space-between; 
        gap: 5px;
        ">
		
          <button id = "date-change-times" type = "reset" onclick = "hideDiv('week-date-input'); showDiv('week-date'); showDiv('week-settings'); " class="calendar-button" >
            <i class="fa fa-times"></i>
          </button>
          <button id = "date-change-submit" type = "submit" onclick = "hideDiv('week-date-input'); showDiv('week-date'); showDiv('week-settings'); changeDateW(); " class="calendar-button"  id="date-submit-button">
            <i class="fa fa-check"></i>
          </button>
          <input type="date" id="new-dateW" name="weeklyBudget" class="budget-edit-input" style = "background-color:  #e6e6e6; width: 180px; " required />
        </div>
      </div>

      <h3 id="week-date">01 May - 07 May</h3>
      
    </div>
  

    <!-- Stat Box 1 -->
    <div class="stat-box active-revenue fade show" id="weeklyBudgetBox" style="height: 185px; ">
      <h3>Weekly Budget / Remaining</h3>
      <div class="dashboard-number">
        <p class="animated-number">€0</p> / <p class="animated-number">€0</p>
      </div>
      <div class="button-group">
        <button onclick="hideDiv('weeklyBudgetBox'); showDiv('weeklyBudgetBoxEdit');" class="settings-button">
          <i class="fas fa-edit"></i> <!-- Font Awesome gear icon -->
        </button>
      </div>
    </div>

    <div class="stat-box active-revenue fade" id="weeklyBudgetBoxEdit" style="display:none; height: 185px;">
      <form id="weekly-budget-edit-input-form">
        <section class="week-budget-edit">
          <div class="week-budget-edit-title">
            <h3>Change Weekly Budget</h3>
          </div>
          <div class="dashboard-number">
            <input type="number" id="weeklyBudgetInput" name="weeklyBudget" class="budget-edit-input" required />
          </div>
        </section>
        <div class="button-group">
          <button type="reset" onclick="hideDiv('weeklyBudgetBoxEdit'); showDiv('weeklyBudgetBox');" class="cancel-button">
            <i class="fas fas fa-times"></i> <!-- Font Awesome x icon -->
          </button>
          <button type="submit" class="confirm-button">
            <i class="fas fa-check"></i> <!-- Font Awesome check icon -->
          </button>
        </div>
      </form>
    </div>

    <div class="stat-box" style="max-height: 185px;" >
        <h3>Average Weekly Expenses</h3>
        <section class = "stat-frequent-category">
          
          <div class = "category-title">
            <h3>Importo:</h3>
          </div>
          <div class="dashboard-number">
            <p class="animated-number">
              <span data-target="12.4">€0.0</span>
            </p>
          </div>
         
          
          
        </section>
      </div>

    <!-- Stat Box 1 -->
    <div class="stat-box" style="max-height: 185px; display: none;" >
      <h3>Average Weekly and Daily Expenses</h3>
      <section class = "average-expenses">
        <section>
          <div class="dashboard-number">
            <p class="animated-number">
              <span data-target="30.67">€0.0</span>
            </p>
          </div>
          <div class = "average-title">
            <h3>Per Week</h3>
          </div>
        </section>
        <section>
          <div class="dashboard-number">
            <p class="animated-number">
              <span data-target="12.4">€0.0</span>
            </p>
          </div>
          <div class = "average-title">
            <h3>Per Day</h3>
          </div>
        </section>
      </section>
    </div>
  </section>

  
  <section class="stats-week">
    
    <div class="week-title">     
      <h3 id="weekly-name">Monthly Statistics</h3>
      
    </div>

    <!-- IMPOSTAZIONI DELLA DATA MENSILE -->
    <div class="stat-date">
      
      <button id = "month-settings" onclick = "hideDiv('month-date');hideDiv('month-settings'); showDiv('month-date-input'); " class="calendar-button" >
          <i class="fa fa-calendar"></i>
      </button>
      <div id = "month-date-input" style = "display:none; " >
        <div style = 
        "display: flex;
        align-items: center; 
        justify-content: space-between; 
        gap: 5px;
        ">
          <button id = "date-change-times" type = "reset" onclick = "hideDiv('month-date-input'); showDiv('month-date'); showDiv('month-settings'); " class="calendar-button" >
            <i class="fa fa-times"></i>
          </button>
          <button id = "date-change-submit" type = "submit" onclick = "hideDiv('month-date-input'); showDiv('month-date'); showDiv('month-settings'); changeDateM();" class="calendar-button"  id="date-submit-button">
            <i class="fa fa-check"></i>
          </button>
          <input type="date" id="new-dateM" name="weeklyBudget" class="budget-edit-input" style = "background-color:  #e6e6e6; width: 180px; display: flex; " required />
        </div>
      </div>

      <h3 id="month-date">01 May - 07 Jun</h3>
      
    </div>


    
    <!-- Stat Box 1 -->
    
      <div class="stat-box active-revenue fade show" id="monthlyBudgetBox" style = "height: 185px;">
        <h3>Monthly Budget / Remaining</h3>
        <div class="dashboard-number">
          <p class="animated-number">€0</p> / <p class="animated-number">€0</p>
        </div>
        <div class="button-group">
          <button onclick="hideDiv('monthlyBudgetBox'); showDiv('monthlyBudgetBoxEdit');" class="settings-button">
            <i class="fas fa-edit"></i> <!-- Font Awesome gear icon -->
          </button>
        </div>
      </div>

      <div class="stat-box active-revenue fade" id="monthlyBudgetBoxEdit" style="display:none; height: 185px;">
        <form id="monthly-budget-edit-input-form">
          <section class="month-budget-edit">
            <div class="month-budget-edit-title">
              <h3>Change Monthly Budget</h3>
            </div>
            <div class="dashboard-number">
              <input type="number" id="monthlyBudgetInput" name="monthlyBudget" class="budget-edit-input" required />
            </div>
          </section>
          <div class="button-group">
            <button type="reset" onclick="hideDiv('monthlyBudgetBoxEdit'); showDiv('monthlyBudgetBox');" class="cancel-button">
              <i class="fas fas fa-times"></i>
            </button>
            <button type="submit" class="confirm-button">
              <i class="fas fa-check"></i>
            </button>
          </div>
        </form>
      </div>

      
      
    
    
      
    
   
      
     
      <div class="stat-box" style="max-height: 185px;" >
        <h3>Average Monthly Expenses</h3>
        <section class = "stat-frequent-category">
          
          <div class = "category-title">
            <h3>Importo:</h3>
          </div>
          <div class="dashboard-number">
            <p class="animated-number">
              <span data-target="12.4">€0.0</span>
            </p>
          </div>
         
          
          
        </section>
      </div>
      </section>
      </section>
   
  </section>
  <section class="stats-week">
    
    <div class="week-title">     
      <h3 id="weekly-name">Annual Statistics</h3>
      
    </div>

    <div class="stat-date">
      
      <button id = "year-settings" onclick = "hideDiv('year-date');hideDiv('year-settings'); showDiv('year-date-input'); " class="calendar-button" >
          <i class="fa fa-calendar"></i>
      </button>
      <div id = "year-date-input" style = "display:none; " >
        <div style = 
        "display: flex;
        align-items: center; 
        justify-content: space-between; 
        gap: 5px;
        ">
          <button id = "date-change-times" type = "reset" onclick = "hideDiv('year-date-input'); showDiv('year-date'); showDiv('year-settings'); " class="calendar-button" >
            <i class="fa fa-times"></i>
          </button>
          <button id = "date-change-submit" type = "submit" onclick = "hideDiv('year-date-input'); showDiv('year-date'); showDiv('year-settings'); changeDateY();" class="calendar-button"  id="date-submit-button">
            <i class="fa fa-check"></i>
          </button>
          <input type="date" id="new-dateY" name="weeklyBudget" class="budget-edit-input" style = "background-color:  #e6e6e6; width: 180px; display: flex; " required />
        </div>
      </div>

      <h3 id="year-date">01 May - 07 Jun</h3>
      
    </div>
  
    <!-- Stat Box 1 -->
    <div class="stat-box active-revenue fade show" id="annualBudgetBox" style = "height: 185px;">
      <h3>Annual Budget / Remaining</h3>
      <div class="dashboard-number">
        <p class="animated-number">€0</p> / <p class="animated-number">€0</p>
      </div>
      <div class="button-group">
        <button onclick="hideDiv('annualBudgetBox'); showDiv('annualBudgetBoxEdit');" class="settings-button">
          <i class="fas fa-edit"></i>
        </button>
      </div>
    </div>

    <div class="stat-box active-revenue fade" id="annualBudgetBoxEdit" style="display:none; height: 185px;">
      <form id="annual-budget-edit-input-form">
        <section class="annual-budget-edit">
          <div class="annual-budget-edit-title">
            <h3>Change Annual Budget</h3>
          </div>
          <div class="dashboard-number">
            <input type="number" id="annualBudgetInput" name="annualBudget" class="budget-edit-input" required />
          </div>
        </section>
        <div class="button-group">
          <button type="reset" onclick="hideDiv('annualBudgetBoxEdit'); showDiv('annualBudgetBox');" class="cancel-button">
            <i class="fas fas fa-times"></i>
          </button>
          <button type="submit" class="confirm-button">
            <i class="fas fa-check"></i>
          </button>
        </div>
      </form>
    </div>

    <div class="stat-box" style="max-height: 185px;" >
        <h3>Average Yearly Expenses</h3>
        <section class = "stat-frequent-category">
          
          <div class = "category-title">
            <h3>Importo:</h3>
          </div>
          <div class="dashboard-number">
            <p class="animated-number">
              <span data-target="12.4">€0.0</span>
            </p>
          </div>
         
          
          
        </section>
      </div>
    
    
  </section>
 
</div>

<div class = "transactions-settings">
  <section class = "budget-settings-title">
    <h2>Your Transactions</h2>
  </section>
  <div class="transaction-buttons">
    <section>
      <button onclick="showDiv('new-transaction'); showNewTransactionRow();" class="transactions-button">
        <i class="fas fa-plus"></i> <!-- Plus icon -->
      </button>
    </section>
  </div>
</div>

<div class = "transactions" id="new-transaction" style = "display: none;">
  
    <div class="week-title">     
      <h3 id="weekly-name">New transaction</h3>
      
    </div>
    <table class="styled-table">
      <thead>
        <tr>
          
          <th>Category</th>
          <th>Date</th>
          <th>Type</th>
          <th>Amount</th>
          <th>Description</th>
          
        </tr>
      </thead>
      <tbody >
        
      </tbody>
    </table>
    <div class="button-group" id="new-transaction-button">
          <button type="reset" onclick="hideDiv('new-transaction');" class="cancel-button">
            <i class="fas fas fa-times"></i> <!-- Font Awesome x icon -->
          </button>
          <button type="submit"  onclick=" addNewTransaction(); " class="confirm-button">
            <i class="fas fa-check"></i> <!-- Font Awesome check icon -->
          </button>
    </div>

  
</div>

<!-- Transactions Section -->
<section class="transactions">
  <h2>Client Transactions Table</h2>
  <table class="styled-table">
        <thead>
          <tr>
            <th>ID No</th>
            <th>Category</th>
            <th>Date</th>
            <th>Type</th>
            <th>Amount</th>
            <th>Description</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="transactionsTable">
          <!-- Popolato dinamicamente -->
        </tbody>
    </tbody>
  </table>
</section>



<script>


document.addEventListener('DOMContentLoaded', function () {
  const animatedNumbers = document.querySelectorAll('.animated-number');

  animatedNumbers.forEach((numberElement) => {
    const target = +numberElement.getAttribute('data-target'); // Get the target number
    const duration = 1000; // Animation duration in milliseconds
    const increment = target / (duration / 16); // Increment per frame (assuming ~60fps)

    let current = 0;

    function updateNumber() {
      current += increment;
      if (current >= target) {
        numberElement.textContent = `€${target.toLocaleString()}`;
      } else {
        numberElement.textContent = `€${Math.floor(current).toLocaleString()}`;
        requestAnimationFrame(updateNumber);
      }
    }

    updateNumber();
  });
  

});

</script>

